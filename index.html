<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Redirecionando...</title>

<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 40px 10px;
    }

    #btnIr {
        background: #4CAF50;
        color: #fff;
        padding: 12px 25px;
        border: none;
        border-radius: 6px;
        font-size: 18px;
        cursor: not-allowed;
        opacity: 0.6;
    }

    #btnIr.ativo {
        cursor: pointer;
        opacity: 1;
    }

    #pub {
        margin-top: 40px;
        display: block;
    }
</style>
</head>
<body>

<h2>Você será redirecionado em <span id="contador">10</span> segundos...</h2>

<!-- BOTÃO -->
<button id="btnIr" disabled>Ir agora</button>

<!-- PUBLICIDADE -->
<div id="pub">
    <iframe src="https://zerads.com/ad/ad.php?width=300&ref=10129" marginwidth="0" marginheight="0" width="300" height="250" scrolling="no" border="0" frameborder="0"></iframe>
</div>

<script>
// PEGAR LINK DO ?url=
const params = new URLSearchParams(window.location.search);
const destino = params.get("url") || "https://google.com"; // fallback

// CONTADOR
let tempo = 10;
const contador = document.getElementById("contador");
const btn = document.getElementById("btnIr");

const intervalo = setInterval(() => {
    tempo--;
    contador.textContent = tempo;

    if (tempo <= 0) {
        clearInterval(intervalo);
        btn.disabled = false;
        btn.classList.add("ativo");
        btn.textContent = "Ir agora";
    }
}, 1000);

// CLIQUE DO BOTÃO
btn.addEventListener("click", () => {
    window.location.href = destino;
});
</script>

</body>
</html>
        padding: 12px 22px;
        margin-top: 20px;
        background: #007bff;
        color: #fff;
        border-radius: 8px;
        text-decoration: none;
        font-size: 18px;
        transition: 0.3s;
    }
    .btn:hover {
        background: #0056b3;
    }
</style>

</head>
<body>

<div class="box">
    <h1>Redirecionando...</h1>
    <p>Você será enviado para o link em:</p>
    <div id="timer">15</div>
    <a id="goNow" href="#" class="btn">Ir Agora</a>
</div>

<script>
// --- PEGA LINK VIA GET OU HASH ---
function getUrl() {
    const params = new URLSearchParams(window.location.search);
    if (params.get("url")) return params.get("url");

    if (window.location.hash.length > 1)
        return decodeURIComponent(window.location.hash.substring(1));

    return null;
}

const destino = getUrl();

if (!destino) {
    document.body.innerHTML = "<h2>URL inválida</h2>";
    throw new Error("URL ausente");
}

// Define o botão
document.getElementById("goNow").href = destino;

// --- TIMER ---
let counter = 15;
const timerElement = document.getElementById("timer");

const interval = setInterval(() => {
    counter--;
    timerElement.textContent = counter;

    if (counter <= 0) {
        clearInterval(interval);
        window.location.href = destino;
    }
}, 1000);

// Botão “Ir Agora” cancela o timer
document.getElementById("goNow").onclick = () => clearInterval(interval);
</script>

</body>
</html>
